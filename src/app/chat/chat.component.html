<section class="mainContainer">
  <div class="menu">
    <img class="menuIcon" src="../../assets/menu.png" />
    <div class="menuHeader">
      <button (click)="selectedRoomFunc(false)" class="btn btn-primary">
        online
      </button>
      <button (click)="selectedRoomFunc(true)" class="btn btn-danger">
        rooms
      </button>
    </div>
    <div class="menuBody" id="style-13">
      <div *ngIf="selectedRoom">
        <div
          (click)="getRoomMsgs(room.name)"
          class="roomItem"
          *ngFor="let room of roomList"
        >
          {{ room.name }}
        </div>
      </div>
      <div *ngIf="!selectedRoom">
        <div class="userItem" *ngFor="let user of onlineUsers">
          <img *ngIf="user.picture" class="avatar" [src]="user.picture" />
          <img
            *ngIf="!user.picture"
            class="avatar"
            src="../../assets/uniSex.jpg"
          />
          {{ user.username }}
        </div>
      </div>
    </div>
    <div *ngIf="selectedRoom" class="menuFooter">
      <button class="btn btn-success">add room</button>
    </div>
  </div>
  <div class="chatContent">
    <h4 class="chatHeader">room: {{ roomName }}</h4>
    <div
      class="chatBody"
      id="style-13"
      #scrollMe
      [scrollTop]="scrollMe.scrollHeight"
    >
      <div
        *ngFor="let item of roomMessages"
        class="messageBox"
        [ngStyle]="{ 'background-color': getColor(item) }"
      >
        <span class="usernameInfo">@{{ item.username }}:</span>
        <span class="msgInfo"> {{ item.message }}</span>
        <div class="dateInfo">{{ item.when | date: "short" }}</div>
      </div>
    </div>
    <form class="input-group mb-3 chatFooter" (submit)="sendMsg()">
      <input
        placeholder="enter message"
        type="text"
        [(ngModel)]="message"
        [ngModelOptions]="{ standalone: true }"
        class="form-control messageInp"
        aria-label="Large"
        aria-describedby="inputGroup-sizing-sm"
      />
      <div class="input-group-append">
        <button class="btn btn-primary" type="submit">
          send
        </button>
      </div>
    </form>
  </div>
</section>
